<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src="../../js/codemirror.js" type="text/javascript"></script>
<script src="../../js/jquery.js" type="text/javascript"></script>
<script src="../../js/class.js" type="text/javascript"></script>
<script src="../../js/topup.js" type="text/javascript"></script>
<script>
var origpath;
</script>
<title>MobiCode</title>
<style>
body {
	font-family: Arial, sans-serif;
}

code {
	border-color: black;
	background-color: #a8c8ff;
	border-radius: 5px;
	margin: 5px;
	padding-bottom: 3px;
	padding-top: 3px;
	padding-left: 3px;
	padding-right: 3px;
	display: block;
}

span {
	background-color: #ff6666;
	text-align: right;
	padding-bottom: 1px;
	padding-top: 1px;
	padding-left: 3px;
	padding-right: 3px;
	display: block;
	font-weight: bold;
}
</style>
<script type="text/javascript">

function saveFile(filepath) {
var textarea = document.getElementById("code");
if (blackberry.io.file.exists(filePath)) {

if (check == true) {
blackberry.io.file.deleteFile(filePath);
}

}
var blob = blackberry.utils.stringToBlob(textarea.value);
blackberry.io.file.saveFile(filePath, blob);
}

function trapForApplicationExit()
{
    blackberry.app.event.onExit(handleExit);
}


function handleExit()
{
       var answer = confirm("Leave this application?");
       if (answer)
         blackberry.app.exit();
}
  
function newFileName() {
    var d = new Date();
    var dte = d.getDate();
    var mon = d.getMonth();
    var hrs = d.getHours();
    var min = d.getMinutes();
    if (due < 10) due = "0" + due;
    if (mon < 10) mon = "0" + mon;
    if (hrs < 10) hrs = "0" + hrs;
    if (min < 10) min = "0" + min;

    return "mobicodedoc_" + dte + mon + d.getFullYear() + "_" + hrs + min + ".php";
}

function readFile(data) {
    //need to set the text inside of the text area that is in the iframe
    var textarea = document.getElementById("code");
    textarea.value = blackberry.utils.blobToString(data);
}

function openFile(filePath) {
        if (blackberry.io.file.exists(filePath)) {
            //file exists so load its contents
            return blackberry.io.file.readFile(filePath, readFile);
            alert("File Successfully Loaded!");
        } else {
            //file does not exist so display that to the user
            alert("File Does Not Exist!");
        }
}

function openPrep() {
var file7777name = document.getElementById('open3file').value;
return file7777name;
}

function newDoc(){
    var a = document.getElementById('codeframe');
    var b = a.contentDocument || a.contentWindow.document;
    var c = b.getElementById('editbox');
    c.value = "";
}

function showSave() { 
//document.getElementById('unsaved-notice').style.display = ''; 
}

function hideSave() { 
document.getElementById('unsaved-notice').style.display = 'none'; 
} 

</script>
</head>
<body onload="initPage(); hideSave();" onkeypress="">
<h1>MobiCode - The Mobile Code Editor!</h1>
<code></code>
<h3 align="right">Highlights & Supports PHP, HTML, CSS, & Javascript</h3>
<div style="border-width: 1px; border-color: black; border-style: solid;">
<span id='unsaved-notice' style='display: none;'><img src="../../img/warning.png" height="17px" width="17px"> Unsaved</span>
<textarea id="code" name="code" spellcheck="false"></textarea>
</div>
<script type="text/javascript">
var editor = CodeMirror.fromTextArea('code', {
height: "450px",
parserfile: ["parsexml.js", "parsecss.js", "tokenizejavascript.js", "parsejavascript.js",
"../contrib/php/js/tokenizephp.js", "../contrib/php/js/parsephp.js",
"../contrib/php/js/parsephphtmlmixed.js"],
stylesheet: ["../../css/xmlcolors.css", "../../css/jscolors.css", "../../css/csscolors.css", "css/phpcolors.css"],
path: "../../js/",
continuousScanning: 500,
lineNumbers: true,
});
</script>
</body>
</html>